[tox]
env_list = py{39,310,311,312,313}, lint

[testenv]
passenv =
    CI
    GITHUB_*
groups = test
commands =
    pytest {posargs: --doctest-modules --cov=hdate --cov-report=term-missing --cov-branch --cov-report=xml --junitxml=junit.xml -o junit_family=legacy tests}

[testenv:lint]
groups =
    dev
    test
commands = pre-commit run --all
